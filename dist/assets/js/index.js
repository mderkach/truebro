!function(e){function t(t){for(var r,i,o=t[0],c=t[1],s=t[2],m=0,b=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&b.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);b.length;)b.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={2:0},l=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=c;l.push([61,0]),a()}({3:function(e,t,a){var r=a(9),n=a.n(r);t.a=n.a.create({baseURL:"http://192.168.0.18:4000/",responseType:"json"})},61:function(e,t,a){a.r(t);var r,n,l,i,o,c,s,u,m,b=a(7),f=a(0),p=a.n(f),d=a(22),g=a.n(d),h=a(10),v=a(4),y=function(e){var t=e.headers,a=e.sortDirection,r=e.sortBy;return p.a.createElement(p.a.Fragment,null,t.map((function(e){return p.a.createElement("div",{role:"presentation",key:e.name,"data-key":e.label,className:"table__cell",style:{textAlign:e.align},onClick:function(){return r(e.label,e.sortable)}},e.name,e.sortable&&p.a.createElement("svg",{className:"table__sort ".concat(a)},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#sort-icon"})))})))},E=a(1),w=a(3);function x(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function N(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,a,r,n){var l={};return Object.keys(r).forEach((function(e){l[e]=r[e]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=a.slice().reverse().reduce((function(a,r){return r(e,t,a)||a}),l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}var _=new(n=k((r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,"tableLoading",n,this),x(this,"fetchFailed",l,this),x(this,"tableRows",i,this),x(this,"sortKey",o,this),x(this,"filter",c,this),x(this,"compared",s,this),x(this,"toggleTableLoading",u,this),x(this,"toggleFetchError",m,this),Object(E.l)(this)}var t,a,r;return t=e,(a=[{key:"fetchData",value:function(){var e=this;this.toggleFetchError(!1),Promise.all([w.a.get("/table"),w.a.get("/filter")]).then((function(t){e.tableRows=t[0].data,e.filter=t[1].data,e.toggleTableLoading()})).catch((function(t){e.toggleFetchError(!0),e.toggleTableLoading(!1)}))}},{key:"updateRows",value:function(e){this.tableRows=e}},{key:"setCompare",value:function(e,t){t?this.compared.push(e):this.compared=this.compared.filter((function(t){return t!==e}))}}])&&N(t.prototype,a),r&&N(t,r),e}()).prototype,"tableLoading",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=k(r.prototype,"fetchFailed",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=k(r.prototype,"tableRows",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=k(r.prototype,"sortKey",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=k(r.prototype,"filter",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=k(r.prototype,"compared",[E.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=k(r.prototype,"toggleTableLoading",[E.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.tableLoading=t||!e.tableLoading}}}),m=k(r.prototype,"toggleFetchError",[E.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.fetchFailed=t}}}),k(r.prototype,"fetchData",[E.f],Object.getOwnPropertyDescriptor(r.prototype,"fetchData"),r.prototype),k(r.prototype,"updateRows",[E.f],Object.getOwnPropertyDescriptor(r.prototype,"updateRows"),r.prototype),k(r.prototype,"setCompare",[E.f],Object.getOwnPropertyDescriptor(r.prototype,"setCompare"),r.prototype),r),j=function(e){var t=e.headers,a=e.rows,r=e.mobile,n=e.dropdown,l=t.filter((function(e){return"compare"!==e.label})),i=[];a.forEach((function(){i.push(p.a.createRef())}));var o=Object(f.useRef)(i);return p.a.createElement(p.a.Fragment,null,a.map((function(e,t){return p.a.createElement("div",{role:"presentation",key:e.name,className:"table__row",ref:o.current[t],onClick:function(a){r&&function(e,t,a){if(t.target.classList.contains("input-checkbox-box")){t.preventDefault();var r=o.current[e].current.querySelector("input");r.checked=!r.checked,_.setCompare(a,r.checked)}else o.current[e].current.classList.toggle("is-expanded"),o.current.forEach((function(t,a){a!==e&&t.current.classList.remove("is-expanded")}))}(t,a,e)}},l.map((function(t){return p.a.createElement("div",{key:t.label,"data-key":t.label,className:"table__row-data text-regular ".concat("brand"===t.label?"table__row-logo":"")},"brand"===t.label&&p.a.createElement("img",{src:e.brand,alt:e.brand}),"forNovice"===t.label&&e[t.label]&&p.a.createElement("svg",{className:"table__row-check"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#table-check-icon"})),"forNovice"===t.label&&!1===e[t.label]&&p.a.createElement("span",null,"-"),"brand"!==t.label&&"forNovice"!==t.label&&p.a.createElement("span",null,e[t.label]))})),p.a.createElement("label",{className:"input-checkbox",htmlFor:e.name},p.a.createElement("input",{type:"checkbox",name:e.name,id:e.name}),p.a.createElement("div",{className:"input-checkbox-box"}),p.a.createElement("svg",{className:"input-checkbox-icon"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#check-icon-input"}))),n&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"table__row-data text-regular"},p.a.createElement("svg",{className:"table__sort"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#sort-icon"}))),p.a.createElement("div",{className:"table__row-dropdown"},n.map((function(t,a){return p.a.createElement("div",{className:"table__row-dropdown-item text-small",key:t.label,style:{animationDelay:"".concat(60*(a+1),"ms")}},p.a.createElement("span",null,t.name),"forNovice"===t.label&&p.a.createElement("svg",{className:"table__row-check"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#table-check-icon"})),"forNovice"!==t.label&&p.a.createElement("p",{className:"text-regular"},e[t.label]))})))))})))},O=a(5);a(8);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var F=function(e){var t=e.name,a=e.label,r=e.index;return p.a.createElement("label",{className:"input-checkbox",htmlFor:t+r},p.a.createElement("input",{type:"checkbox",name:t,id:t+r}),p.a.createElement("div",{className:"input-checkbox-box"}),p.a.createElement("svg",{className:"input-checkbox-icon"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#check-icon-input"})),p.a.createElement("p",{className:"text-regular"},a))},A=Object(h.a)((function(e){var t=e.items,a=e.compare,r=Object(f.createRef)(),n=S(Object(f.useState)(!1),2),l=n[0],i=n[1],o=S(Object(f.useState)(),2),c=o[0],s=o[1],u=function(e){e.preventDefault(),i(!l),l?Object(O.b)(r.current):Object(O.a)(r.current)},m=Object(v.useMediaQuery)({query:"(min-width: 1680px)"}),b=Object(v.useMediaQuery)({query:"(max-width: 1679px)"});return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"filter-wrapper"},a.length>0&&p.a.createElement(p.a.Fragment,null,m&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"filter-comparsion"},p.a.createElement("a",{className:"button-primary text-small medium filter-button",href:"javascript(void:0);"},p.a.createElement("span",null,"к сравнению"),p.a.createElement("span",{className:"filter-counter"},a.length)),a.map((function(e){return p.a.createElement("picture",{key:e.name,className:"filter-logo"},p.a.createElement("source",{src:e.brand}),p.a.createElement("img",{src:e.brand,alt:""}))}))))),b&&p.a.createElement(p.a.Fragment,null,a.length>0&&p.a.createElement("a",{className:"button-primary text-small medium filter-button",href:"#a"},p.a.createElement("span",null,"к сравнению"),p.a.createElement("span",{className:"filter-counter"},a.length)),p.a.createElement("a",{className:"button-secondary text-small medium filter-button",href:"#toggle",onClick:function(e){u(e)}},p.a.createElement("svg",{className:"filter-button-icon"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#chevron-right-icon"})),p.a.createElement("span",null,"Фильтр"))),p.a.createElement("div",{ref:r,className:"filter-item-outer ".concat(b&&l?"is-expanded":"")},t.map((function(e){return p.a.createElement("div",{key:e.header,className:"filter-item-wrapper"},p.a.createElement("p",{className:"filter-header text-regular medium"},e.header),e.items.map((function(e,t){return p.a.createElement(p.a.Fragment,null,t<8&&p.a.createElement("div",{key:e.label,className:"filter-item"},p.a.createElement(F,{name:e.name,label:e.label,index:t})))})),e.items.length>8&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"filter-item-wrapper-hidden"},e.items.map((function(e,t){return p.a.createElement(p.a.Fragment,null,t>8&&p.a.createElement("div",{key:e.label,className:"filter-item"},p.a.createElement(F,{name:e.name,label:e.label,index:t})))}))),p.a.createElement("button",{type:"button",className:"text-small medium filter-hidden-trigger",onClick:function(e){return function(e){e.preventDefault();var t=e.target,a=t.querySelector("span");t.previousElementSibling.classList.toggle("is-expanded"),t.classList.toggle("is-expanded"),t.classList.contains("is-expanded")?(s(a.textContent),a.textContent="Свернуть"):a.textContent=c}(e)}},p.a.createElement("span",null,"показать еще ".concat(t.length)),p.a.createElement("svg",{className:"filter-hidden-trigger-icon"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#chevron-down-icon"})))))}))),b&&p.a.createElement("svg",{onClick:function(e){u(e)},className:"filter-close ".concat(b&&l?"is-expanded":"")},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#cross-icon"})),b&&p.a.createElement("div",{className:"filter-item-outer-backdrop ".concat(b&&l?"is-expanded":"")})))}));function R(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var C=document.querySelector(".table__container"),P=[{name:"Бренд",label:"brand",align:"left",sortable:!1},{name:"Возраст на рынке г.",label:"age",align:"right",sortable:!0},{name:"Для новичков",label:"forNovice",align:"center",sortable:!1},{name:"Обработка жалоб %",label:"claim",align:"right",sortable:!0},{name:"Позитивных отзывов %",label:"positive",align:"right",sortable:!0},{name:"Удобство платежей 0-10",label:"comfort",align:"right",sortable:!0},{name:"Мин депозит",label:"deposit",align:"right",sortable:!0},{name:"Бонус на депозит",label:"bonus",align:"right",sortable:!0},{name:"Узнаваемость Бренда 0-10",label:"recognizability",align:"right",sortable:!0},{name:"Добавить к сравнению",label:"compare",align:"center",sortable:!1}],I=["forNovice","claim","positive","recognizability"],T=["forNovice","claim","positive","recognizability","bonus","comfort"],M=function(e,t,a){return a?e.filter((function(e){return t.includes(e.label)})):e.filter((function(e){return!t.includes(e.label)}))},H=Object(h.a)((function(){var e=z(Object(f.useState)("down"),2),t=e[0],a=e[1];Object(f.useEffect)((function(){_.tableLoading&&_.fetchData(_.tableLoading)}),[]);var r=function(e,r){var n=R(_.tableRows);r&&(e!==_.sortKey?(a("up"),n.sort(function(e,t){return function(a,r){var n=parseInt(a[e],10),l=parseInt(r[e],10);return Number.isNaN(n)&&(n=0),Number.isNaN(l)&&(l=0),"up"===t?n-l:l-n}}(e,t)),_.updateRows(n),_.sortKey=e):_.updateRows(n.reverse()),a((function(e){return"down"===e?"up":"down"})))},n=Object(v.useMediaQuery)({query:"(min-width: 1366px)"}),l=Object(v.useMediaQuery)({query:"(min-width: 768px) and (max-width: 1365px)"}),i=Object(v.useMediaQuery)({query:"(max-width: 767px)"});return p.a.createElement(p.a.Fragment,null,_.tableLoading&&p.a.createElement("div",{className:"table__placeholder"},p.a.createElement("svg",{className:"table__placeholder-icon"},p.a.createElement("use",{xlinkHref:"./assets/img/svg/sprite.svg#loading-icon"})),p.a.createElement("span",null,"Загрузка...")),!_.tableLoading&&_.fetchFailed&&p.a.createElement("div",{className:"table__placeholder"},p.a.createElement("span",null,"Произошла ошибка! Попробуйте снова"),p.a.createElement("a",{className:"button-secondary text-small medium table__button",href:"javascript(void:0);",onClick:function(e){return function(e){e.preventDefault(),_.toggleTableLoading(!0),_.toggleFetchError(!1),_.fetchData(_.tableLoading)}(e)}},"Повторить")),!_.tableLoading&&!_.fetchFailed&&p.a.createElement("main",{className:"table__outer"},p.a.createElement("div",{className:"table__header table__row"},n&&p.a.createElement(y,{headers:P,sortDirection:t,sortBy:r}),l&&p.a.createElement(y,{headers:M(P,I,!1),sortDirection:t,sortBy:r}),i&&p.a.createElement(y,{headers:M(P,T,!1),sortDirection:t,sortBy:r})),p.a.createElement("aside",{className:"table__filter"},p.a.createElement("div",{className:"table__filter-outer"},_.filter&&p.a.createElement(A,{items:_.filter,compare:_.compared}))),p.a.createElement("div",{className:"table__rows"},n&&_.tableRows&&p.a.createElement(j,{headers:P,rows:_.tableRows,mobile:"false"}),l&&_.tableRows&&p.a.createElement(j,{headers:M(P,I,!1),rows:_.tableRows,dropdown:M(P,I,!0),mobile:!0}),i&&_.tableRows&&p.a.createElement(j,{headers:M(P,T,!1),rows:_.tableRows,dropdown:M(P,T,!0),mobile:!0})),p.a.createElement("a",{className:"button-secondary text-small medium table__button",href:"javascript(void:0);",onClick:function(e){return function(e){e.preventDefault()}(e)}},"Показать еще")))}));C&&g.a.render(p.a.createElement(H,null),C);b.a.init()},7:function(e,t,a){a(3);var r={el:".input-search-wrapper",trigger:".input-search-button",setLoading:function(e,t){e?(t.classList.add("is-loading"),r.setLoadingIcon(!0,t.querySelector(".input-search-button"))):(t.classList.remove("is-loading"),r.setLoadingIcon(!1,t.querySelector(".input-search-button")))},setLoadingIcon:function(e,t){var a="./assets/img/svg/sprite.svg",r="http://www.w3.org/1999/xlink",n=t.querySelector("svg").querySelector("use");e?n.setAttributeNS(r,"xlink:href","".concat(a).concat("#loading-icon")):n.setAttributeNS(r,"xlink:href","".concat(a).concat("#loupe-icon"))},expandForm:function(e){e.classList.contains("is-expanded")?(r.setLoading(!0,e),setTimeout((function(){r.setLoading(!1,e),e.classList.remove("is-expanded"),e.querySelector(".input-search").setAttribute("value",""),e.querySelector(".input-search").blur()}),2500)):(e.classList.add("is-expanded"),e.querySelector(".input-search").focus())},init:function(){var e=document.querySelectorAll(this.el);e&&e.forEach((function(e){e.querySelector(r.trigger).addEventListener("click",(function(t){t.preventDefault(),r.expandForm(e)}))}))}};t.a=r},8:function(e,t,a){}});